<ion-content [fullscreen]="true" class="premium-bg">
  
  <div class="top-bar">
    <div class="logo">
      <ion-icon name="sparkles" color="primary"></ion-icon>
      <span>CleanGallery</span>
    </div>
    <div class="counter" *ngIf="fotos.length > 0">
      {{ fotos.length }} restantes
    </div>
  </div>

  <div class="stack-container">
    
    <div *ngIf="fotos.length === 0" class="empty-state">
      <div class="circle-icon">
        <ion-icon name="checkmark-done"></ion-icon>
      </div>
      <h3>¡Todo limpio!</h3>
      <p>No quedan más fotos por revisar.</p>
    </div>

    <div 
      class="card-wrapper" 
      *ngFor="let foto of fotos; let i = index"
      [style.z-index]="i"
      appSwipeCard
      (choiceMade)="handleChoice($event, foto)"
      [class.disabled-card]="i !== fotos.length - 1" 
    >
      <div class="photo-card">
        <img [src]="foto.src" />
        
        <div class="card-overlay">
          <div class="photo-badge">
            <ion-icon name="image-outline"></ion-icon> Galería
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="action-buttons" *ngIf="fotos.length > 0">
    
    <button class="btn-action delete" (click)="handleChoice('borrar', fotos[fotos.length - 1])">
      <ion-icon name="trash-outline"></ion-icon>
    </button>

    <button class="btn-action keep" (click)="handleChoice('guardar', fotos[fotos.length - 1])">
      <ion-icon name="heart"></ion-icon>
    </button>

  </div>

</ion-content>